<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>git的使用方法</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="doc/linux-style.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">git的使用方法</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#git的使用方法">git的使用方法</a></li>
</ul>
</nav>
<h1 id="git的使用方法">git的使用方法</h1>
<p><a href="https://www.runoob.com/git/git-tutorial.html">Git菜鸟教程</a></p>
<p><strong>推荐一个登陆git网站的好用的工具</strong> <a href="https://steampp.net/">Steam++</a></p>
<p>听这个名字就知道，之前一直用这个软件去登陆steam商店，偶然发现还能加速GitHub，免费且流畅</p>
<ul>
<li>常用git命令：</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="fu">git</span> init            #在当前目录初始化 Git 仓库</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="fu">git</span> log         #查看提交历史 --oneline（简洁显示）、-p（显示差异）</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="fu">git</span> status      #查看工作区状态（修改/未跟踪的文件）</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="fu">git</span> add <span class="op">&lt;</span>file<span class="op">&gt;</span>      #将文件添加到暂存区  git add .（添加所有文件）</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="fu">git</span> add -A    #提交所有已经修改的文件，包括删除新建文件</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="fu">git</span> add -u    #提交git上已跟踪的文件，不包括删除和新建的文件</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a><span class="fu">git</span> checkout -- <span class="op">&lt;</span>file<span class="op">&gt;</span>  # 撤销指定文件的修改</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a><span class="fu">git</span> reset  #回退git add 操作</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a><span class="fu">git</span> reset HEAD^ <span class="co">#撤销最近一次提交并保留修改</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a><span class="fu">git</span> push origin +HEAD~1:master <span class="co">#撤销已经推送到远程仓库的提交</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a><span class="fu">git</span> pull        #拉取远程仓库并合并到当前分支 git pull origin main</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true"></a><span class="fu">git</span> fetch       #仅拉取远程仓库更新，不自动合并    git fetch --all</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true"></a><span class="fu">git</span> reset       #回退提交   --soft（保留修改）、--hard（丢弃修改）</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true"></a><span class="fu">git</span> diff        #查看工作区与暂存区的差异   git diff HEAD（比较最新提交）</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true"></a><span class="fu">git</span> commit      #提交暂存区的修改   -m <span class="st">&quot;message&quot;</span>（添加提交信息）</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true"></a><span class="fu">git</span> revert <span class="op">&lt;</span>commit<span class="op">&gt;</span> <span class="co">#撤销指定提交（生成新提交）  git revert HEAD（撤销最新提交）</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true"></a><span class="fu">git</span> rm <span class="op">&lt;</span>file<span class="op">&gt;</span>  删除本地和远程的文件</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true"></a><span class="fu">git</span> rm --cached  <span class="op">&lt;</span>file<span class="op">&gt;</span> 删除远程的文件，保留本地</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true"></a><span class="fu">git</span> remote -v    #查看git版本</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true"></a><span class="fu">git</span> check <span class="op">&lt;</span>分支名<span class="op">&gt;</span>  #切换分支名</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true"></a><span class="fu">git</span> branch  #查看当前分支</span></code></pre></div>
<ul>
<li>git仓库管理—提交更改流程：</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="fu">git</span> init(如果要上传本地仓库)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="co"># git clone https:...   或者克隆git上的代码</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="co"># git checkout -b new-feature  为了避免直接在 main 或 master 分支上进行开发，通常会创建一个新的分支</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="fu">git</span> status         #可以看工作区状态，看看有哪些文件有修改的</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="fu">git</span> add <span class="op">&lt;</span>file<span class="op">&gt;</span>         #添加到暂存区</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a><span class="fu">git</span> commit -m <span class="st">&quot;&quot;</span>       #提交更改</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a><span class="co">#git pull origin master 每次git push之前可以拉取远端更新并且合并到本地，以避免冲突</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a><span class="co">#git fetch origin 也可以拉去最新的远端代码</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a><span class="co">#git reset origin/kylinos-next --hard 强制本地代码和远程保持一致</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a><span class="fu">git</span> push origin master <span class="co">#推送到远程仓库</span></span></code></pre></div>
<p>以上都是git的最基础的用法，但是作为内核开发的我们，仅仅学会这些还远远不够，因为内核代码是有很多个版本迭代的，所以对代码的版本管理非常重要，现在需要更深入的了解git的用法：</p>
<ul>
<li>分支管理</li>
</ul>
<p>分支管理是一个好东西，各个内核版本都可以延伸一个分支出来，分支更有利于团队协作，你修改分支代码并不会影响主线上的代码。</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="fu">git</span> branch          # 查看本地分支</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="fu">git</span> checkout <span class="op">&lt;</span>branch-name<span class="op">&gt;</span>  #切换分支</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a><span class="fu">git</span> branch <span class="op">&lt;</span>branch-name<span class="op">&gt;</span>        # 创建新分支</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a><span class="fu">git</span> branch -d <span class="op">&lt;</span>branch-name<span class="op">&gt;</span>     # 删除本地分支</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a><span class="fu">git</span> push origin --delete <span class="op">&lt;</span>branch-name<span class="op">&gt;</span>  # 删除远程分支</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true"></a><span class="fu">git</span> branch -m <span class="op">&lt;</span>old-name<span class="op">&gt;</span> <span class="op">&lt;</span>new-name<span class="op">&gt;</span>  # 重命名本地分支</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true"></a><span class="fu">git</span> merge <span class="op">&lt;</span>branch-name<span class="op">&gt;</span>  #合并分支到当前主分支，首先要执行git checkout切换到主分支</span></code></pre></div>
<ul>
<li>查看历史</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="fu">git</span> log                 # 查看完整提交历史</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="fu">git</span> log -p <span class="op">&lt;</span>file<span class="op">&gt;</span>        # 查看某个文件的修改历史</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a><span class="fu">git</span> show <span class="op">&lt;</span>commit-id<span class="op">&gt;</span>    # 查看某次提交的详细信息</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="fu">git</span> log --grep=<span class="st">&quot;keyword&quot;</span>  # 根据提交信息搜索提交</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a><span class="fu">git</span> log -S <span class="st">&quot;keyword&quot;</span>      # 根据代码内容搜索提交</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a><span class="fu">git</span> log --follow --diff-filter=R --name-status -1 -- d  # 查看d文件的最近一次重命名提交</span></code></pre></div>
<ul>
<li>tag</li>
</ul>
<p>tag顾名思义就是给东西贴上标签，有了标签我们就可以更好的检索信息了,方便你追溯某个版本的代码。</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="fu">git</span> tag v1.0.0           # 在本地仓库创建名为 v1.0.0 的轻量标签,标签指向当前所在的提交,标签信息存储在 .git/refs/tags/v1.0.0 文件中，标签不包含额外元数据。</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="fu">git</span> tag -a v1.0.0 -m <span class="st">&quot;Release version 1.0.0&quot;</span>  # 在本地创建附注标签 v1.0.0，创建独立的标签对象（存储在 .git/objects）创建独立的标签对象（存储在 .git/objects）。</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="fu">git</span> push origin v1.0.0   # 推送指定标签</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="fu">git</span> push origin --tags   # 推送所有标签</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a><span class="fu">git</span> tag -d v1.0.0        # 删除本地标签</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a><span class="fu">git</span> push origin --delete v1.0.0  # 删除远程标签</span></code></pre></div>
<p>在 Git 中，标签(tag)是针对整个提交(commit)的，而不是针对单个文件的。这意味着你不能直接给单个文件打标签。</p>
<p>这篇主要介绍git业务方面的常用的方法：</p>
<ul>
<li>如何查看一个函数的第一次提交记录：</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="co">#拿smb2_parse_contexts这个函数举例子</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a><span class="bu">cd</span>  主线分支</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a><span class="fu">git</span> blame fs/smb/client/smb2pdu.c <span class="kw">|</span> <span class="fu">grep</span> smb2_parse_contexts  #会弹出commit-id 找到定义函数的commit-id</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a><span class="fu">git</span> show  <span class="op">&lt;</span>commit-id<span class="op">&gt;</span>                #查看这个commit是否是第一次提交</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a><span class="fu">git</span> log --oneline  <span class="op">&lt;</span>commit-id<span class="op">&gt;</span>       #如果不是第一次提交，查看这个commit-id的前一个提交</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a><span class="fu">git</span> checkout <span class="op">&lt;</span>commit-id<span class="op">&gt;</span>             #回退到之前版本</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a><span class="co">#然后再重复第二个步骤</span></span></code></pre></div>
<p>这里重点讲一下git blame的用法：</p>
<p>git blame 是 Git 中用于查看文件每一行的修改历史记录的命令。它的作用是追踪文件中每一行的最后一次修改是谁做的，修改的时间是何时，修改的提交信息是什么。</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="co">#比如想查看某一个文件的改动记录，可以用</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="fu">git</span> blame <span class="op">&lt;</span>file<span class="op">&gt;</span> xxx.c   #会输出每一行代码的作者、提交哈希和提交时间，格式如下：</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a>^<span class="ex">1da177e4c3f4</span> (Linus Torvalds          2005-04-16 15:20:36 -0700     1) <span class="ex">/*</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a><span class="co">#git blame 有一些常用的参数</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a><span class="ex">-L</span> <span class="op">&lt;</span>start<span class="op">&gt;</span>,<span class="op">&lt;</span>end<span class="op">&gt;</span> ：仅查看文件的某个行范围。</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true"></a>    <span class="fu">git</span> blame -L 10,20 xxx.c <span class="co">#查看xxx.c文件的第 10 行到第 20 行的代码历史</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true"></a><span class="ex">-C</span>：查找代码移动或复制的历史。此选项会查找哪些行可能是从其他地方复制或移动过来的</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true"></a>    <span class="fu">git</span> blame -C xxx.c</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true"></a><span class="ex">-f</span>：在输出中包括文件路径，默认情况下，git blame 只会显示文件内容，不包含文件名</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true"></a>    <span class="fu">git</span> blame -f xxx.c</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true"></a><span class="ex">-s</span>：只显示提交的哈希，不显示其他信息。</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true"></a>    <span class="fu">git</span> blame -s xxx.c <span class="co">#只会输出相关的哈希值。</span></span></code></pre></div>
<ul>
<li>合入补丁操作流程</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a><span class="bu">cd</span> kylinx-4.19 <span class="co">#进入4.19分支</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a><span class="fu">git</span> branch    #查看是否是 kylinos-next分支</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true"></a><span class="fu">git</span> checkout kylinos-next  # 如果不在目标分支，切换到 kylinos-next</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true"></a><span class="fu">git</span> fetch origin <span class="co"># 从远程拉取代码到本地</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true"></a><span class="fu">git</span> reset origin/kylinos-next --hard <span class="co"># 强制本地代码和远程保持一致</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true"></a><span class="fu">git</span> show  <span class="op">&lt;</span>commit-id<span class="op">&gt;</span>  #从工单信息获取需要修复的CVE列表 <span class="op">&lt;</span>commit-id<span class="op">&gt;</span> 是上游修复补丁</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true"></a><span class="fu">git</span> show --stat <span class="op">&lt;</span>commit-id<span class="op">&gt;</span>    #可以查看某个文件修改的统计</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true"></a><span class="fu">git</span> log  --grep=<span class="st">&quot;&lt;修改信息&gt;&quot;</span>  #查看是否补丁已经合入？</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true"></a><span class="fu">git</span> remote -v  #如果需要合入补丁,就查看上游</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true"></a><span class="fu">git</span> log --all --grep=<span class="st">&quot;CVE-XXXX-XXXXX&quot;</span> <span class="co">#根据CVE查看上游是否已经生成了补丁,是，则从上游或在openeular生成补丁</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true"></a><span class="fu">git</span> format-patch -1 <span class="op">&lt;</span>commit-id<span class="op">&gt;</span>  #根据上游和openeular生成补丁</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true"></a><span class="fu">git</span> log -1 <span class="op">&lt;</span>hash<span class="op">&gt;</span> --format=<span class="st">&quot;%P&quot;</span>  #查询父提交</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true"></a><span class="fu">git</span> log --graph --oneline <span class="op">&lt;</span>commit-id<span class="op">&gt;</span>~5..<span class="op">&lt;</span>commit-id<span class="op">&gt;</span>   # 查看该 commit 是否依赖其他补丁</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true"></a><span class="fu">git</span> am 001-xxx.patch --reject <span class="co">#合入补丁并且生成冲突文件.rej</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true"></a><span class="fu">git</span> status -s <span class="co">#查看合入补丁的状态</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true"></a><span class="fu">git</span> add -u   #合并已经解决的文件</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true"></a><span class="ex">vim</span> <span class="op">&lt;</span>冲突文件.rej<span class="op">&gt;</span>  #打开冲突文件.rej</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true"></a>:<span class="ex">vsp</span> <span class="op">&lt;</span>冲突文件<span class="op">&gt;</span>      #vim两个窗口打开文件对比分析</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true"></a><span class="co">#解决冲突后再次合并</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true"></a><span class="fu">git</span> add <span class="op">&lt;</span>已解决的文件<span class="op">&gt;</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true"></a><span class="fu">git</span> am --continue  # 完成补丁应用</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true"></a></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true"></a><span class="co">#合并完成后，编译测试</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true"></a><span class="fu">rm</span> x86_64-build -rf <span class="kw">&amp;&amp;</span> <span class="fu">mkdir</span> x86_64-build</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true"></a><span class="fu">cp</span> arch/x86/configs/kylinos_generic_defconfig x86_64-build/.config</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true"></a><span class="fu">make</span> O=x86_64-build menuconfig <span class="co"># 比如编译nfs模块，搜索 nfs_fs</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true"></a><span class="bu">time</span> make O=x86_64-build bzImage -j<span class="kw">`</span><span class="ex">nproc</span><span class="kw">`</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true"></a></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true"></a><span class="co">#提交更改</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true"></a><span class="fu">git</span> commit --amend  # 添加测试记录</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true"></a><span class="fu">git</span> push origin cve-2024-xxxx-fix</span></code></pre></div>
</body>
</html>
